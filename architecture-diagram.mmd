flowchart TD
    subgraph "Main Execution Options"
        direction LR
        
        subgraph main.py["üíª main.py"]
            m1[User Input] ===|Instructions| m2[Local Computer\nSetup]
            m2 ===|Screenshots| m3[Computer Use\nAssistant API]
            m3 ===|Actions| m4[Execute on\nLocal Computer]
            m4 ===|Loop| m2
        end
        
        subgraph main_playwright["üåê main_playwright.py"]
            p1[User Input] ===|Instructions| p2[Playwright Browser\nSetup]
            p2 ===|Screenshots| p3[Computer Use\nAssistant API]
            p3 ===|Actions| p4[Execute via\nPlaywright]
            p4 ===|Loop with Circuit\nBreaker & Recovery| p2
            p5[Direct\nNavigator] -.-|Optional\nDirect URL\nNavigation| p2
        end
        
        subgraph crew_orchestration["üß† crew_orchestration.py"]
            c1[User Input] ===|Task| c2[LangChain\nOrchestrator]
            c2 ===|High-level\nPlanning| c3[LangChain Tool\nSelection]
            c3 ===|Browser\nInteraction| c4[Computer Use\nAssistant API]
            c4 ===|Actions| c5[Playwright\nExecution]
            c5 ===|Observations| c2
            c2 ===|Reports| c6[Generate\nInsights]
        end
    end
    
    m3 -.-|Azure OpenAI| API1[Azure OpenAI\nCUA Model]
    p3 -.-|Azure OpenAI| API1
    c4 -.-|Azure OpenAI| API1
    c2 -.-|Azure OpenAI| API2[Azure OpenAI\nGPT-4.1]
    
    classDef api fill:#f9f,stroke:#333,stroke-width:2px
    classDef component fill:#bbf,stroke:#333,stroke-width:1px
    classDef execution fill:#dfd,stroke:#333,stroke-width:2px
    
    class API1,API2 api
    class m1,m2,m3,m4,p1,p2,p3,p4,p5,c1,c2,c3,c4,c5,c6 component
    class main.py,main_playwright.py,crew_orchestration.py execution
